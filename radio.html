<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="styles.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="images/nav/idkfacion.png" type="image/png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <style>
    #content {
      background-color: #cac7c2;
      width: auto;
      height: 51.5vh;
      margin-top: 2px;
      margin-left: 2px;
      /* box-shadow: 2px 2px 2px #6e6d6d, 3px 2px #6e6d6d; */
      display: flex;
      justify-content: center;
    }

    #container {
      position: relative;
      width: 100%;
      /* background-color: black; */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 20px;
      text-align: center;
    }

    #container::before {
      /* background-color: rgba(0, 0, 0, 0.951); */
      border-radius: 18px;
      content: " ";
      position: absolute;
      width: 100%;
      height: 100%;
      display: inline-block;
      top: 0;
      left: 0;
      z-index: 1;
    }

    #header {
      background-color: #366a7c;
    }

    @media (max-width:1024px) {}

    /* width setting for mobile device */
    /* @media (max-width:450px) {
      #container {
        width: 80%;
      }
    } */

    #container #img #track_cover {
      padding-top: 30px;
      width: 200px;
      height: 200px;
    }

    /* #img {
      position: relative;
      width: 100%;
      z-index: 2;
    } */
    /* 
    img {
      width: 80%;
      border-radius: 50%;
      border: white 2px;
    } */

    #img img {
      -webkit-filter: drop-shadow(2px 2px 4px #222);
    }

    #title {
      position: relative;
      z-index: 2;
    }

    #music_time {
      position: relative;
      display: flex;
      justify-content: center;
      z-index: 2;
      font-size: 0.8rem;
    }

    /* .rotate{
        animation: rotate 3s linear infinite;
    }
    @keyframes rotate {
        from{
            transform: rotate(0deg);
        }
        to{
            transform: rotate(360deg);
        }
    } */
    /* my default range setting */
    .slider {
      position: relative;
      z-index: 2;
      -webkit-appearance: none;
      height: 5px;
      border-radius: 10px;
      background: white;
      outline: none;
      opacity: 0.7;
      -webkit-transition: .2s;
      transition: opacity .2s;
    }

    .slider:hover {
      opacity: 1;
    }

    .slider::-ms-thumb {
      width: 10px;
      height: 10px;
      border: none;
      /* background: rgb(145, 143, 143); */
      background: black;
      cursor: pointer;
      border-radius: 50%;
    }

    .slider::-moz-range-thumb {
      width: 10px;
      height: 10px;
      border: none;
      /* background: rgb(145, 143, 143); */
      background: black;
      cursor: pointer;
      border-radius: 50%;
    }

    .slider::-webkit-slider-thumb {
      width: 10px;
      height: 10px;
      border: none;
      /* background-color: rgb(145, 143, 143);
      background:black;*/
      cursor: pointer;
      border-radius: 50%;
    }

    #range {
      margin-left: 10px;
      margin-right: 10px;
      width: 65%;
      align-self: center;
      background: black;
    }

    #music_functions {
      position: relative;
      display: flex;
      justify-content: center;
      z-index: 2;
    }

    .function {
      display: flex;
      align-items: center;
    }

    #prev {
      font-size: 3rem;
      margin: 0px 6px;
      transition: color .3s;
    }

    #prev:hover {
      color: rgb(145, 143, 143);
    }

    #prev:active {
      color: black;
    }

    #play_pause {
      font-size: 5rem;
      margin: 0px 6px;
      transition: color .3s;
    }

    #play_pause:hover {
      color: rgb(145, 143, 143);
    }

    #play_pause:active {
      color: black;
    }

    #next {
      font-size: 3rem;
      margin: 0px 6px;
      transition: color .3s;
    }

    #next:hover {
      color: rgb(145, 143, 143);
    }

    #next:active {
      color: black;
    }

    #volume {
      position: relative;
      z-index: 2;
      display: flex;
      justify-content: center;
      margin-bottom: 10px;
      font-size: 1.5rem;
    }

    #vol {
      align-self: center;
      margin-left: 10px;
      margin-right: 10px;
    }

    .radioimgcontainer {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
    }


    .spotify:hover {
      transform: scale(1.1);
      cursor: pointer;
    }

    .apple:hover {
      transform: scale(1.1);
      cursor: pointer;
    }

    @media (max-width: 768px) {

      #main-box {
        background-color: transparent;
      }

      #content {
        background-color: transparent;
      }

      #container {
        height: 30%;
      }

      .slider {
        display: none;
      }

      #volume {
        display: none;
      }

      #music_time {
        display: none;
      }


    }
  </style>
</head>

<body>
  <div id="nav">
    <img src="images/nav/archiveIcon.png" onclick="location.href='https://idkarchive.org'">

    <img src="images/nav/channelIcon.gif"
      onclick="window.open('https://https://www.youtube.com/@idkstudios_', '_blank')">

    <img src="images/nav/youIcon.png" onclick="location.href='you.html'">

    <img src="images/nav/radioIcon.png" onclick="location.href='radio.html'">
    <!-- 
    <img class="shopdefault-icon" src="images/nav/shopIcon.png" onclick="location.href='shop.html'"> -->

    <img src="images/nav/aboutIcon.png" onclick="location.href='about.html'">
    <img src="images/nav/shopIcon.png" onclick="location.href='https://store.idkstudios.org'">
  </div>

  <div id="main-container">
    <div id="main-container-style">
      <!-- box properties here -->
      <!-- header -->
      <div id="header">
        <div class="header-title">
          <img src="images/general/icons/cd.png" id="winicon">
        </div>

        <h1>idk</h1>

        <div class="x">
          <img src="images/general/icons/apple.png" id="homeicon"
            onclick="window.open('https://music.apple.com/us/playlist/idk-studios-radio/pl.u-76oNkm7sWppkG1R', '_blank')"
            class="apple">
          <img src="images/general/icons/spotify.png" id="homeicon"
            onclick="window.open('https://open.spotify.com/playlist/5H6uHOPurS7SimEbh2Snyo?si=9UOov79mQtamYXvI_of79g&pi=u-he3vVvLRSNO7', '_blank')"
            class="spotify"> <img src="images/general/icons/xbutton.png" id="homeicon" class="xicon"
            onclick="location.href='index.html'">
        </div>
      </div>
      <!-- black bar -->

      <div id="black-bar"></div>

      <!-- main box -->

      <div id="main-box">
        <div id="box-bg">
          <!-- !! PAGE CONTENT !! -->
          <div id="content">
            <div id="container">
              <div id="img">
                <img id="track_cover" src="images/music.png">
              </div>
              <div id="title">
                <h3 id="track_title">track title</h3>
                <p id="track_artist">track artist</p>
              </div>
              <div id="music_time">
                <p id="track_current_time"><span id="current_time_mins">00</span>:<span id="current_time_secs">00</span>
                </p>
                <input type="range" name="range" class="slider" onchange="seek()" id="range" min="0" max="300"
                  value="0">
                <p id="track_fulltime"><span id="track_mins">00</span>:<span id="track_secs">00</span></p>
              </div>
              <div id="music_functions">
                <div class="function">
                  <i id="prev" onclick="prev()" class="bi bi-skip-start-fill"></i>
                </div>
                <div class="function">
                  <i id="play_pause" onclick="play_pause()" class="bi bi-play-fill"></i>
                </div>
                <div class="function">
                  <i id="next" onclick="next()" class="bi bi-skip-end-fill"></i>

                </div>
              </div>
              <div id="volume">
                <i class="bi bi-volume-down"></i>
                <input type="range" name="volume" onchange="volume()" class="slider" value="8" id="vol" min="0"
                  max="10">
                <i class="bi bi-volume-up"></i>
              </div>
            </div>
            <script src="app.js" charset="utf-8"></script>

          </div>
        </div>
      </div>
    </div>

    <div id="taskbar">
      <div class="start-box">
        <button class="start-button" onclick="location.href='index.html'">idk</button>
      </div>

      <div class="news-bar">
        <marquee behavior="scroll" direction="left">
          <div class="">
            sizzle's debut mixtape "the world needs you" is available now! &emsp; zugz's new EP "04'" is out now! &emsp;
            "IDK MAG" VOL.1 is out now! &emsp; IMAAD's debut mixtape "p=f" is out now!
          </div>

        </marquee>
      </div>

      <!-- Add more buttons as needed -->
      <div class="system-tray-icons">
        <div class="system-tray-icon"><img src="images/taskbar/instagram.png"
            onclick="window.open('https://www.instagram.com/idkstudios_/', '_blank')">
        </div>
        <div class="system-tray-icon"><img src="images/taskbar/tiktok.png"
            onclick="window.open('https://www.tiktok.com/@idk.studioss', '_blank')">
        </div>
        <div class="system-tray-icon"><img src="images/taskbar/twitter.png"
            onclick="window.open('https://twitter.com/idkzugz?s=21&t=tu_387E8CI51JXNZHh9f0A', '_blank')">
        </div>
        <div class="system-tray-icon"><img src="images/taskbar/discord.png"
            onclick="window.open('https://discord.gg/YMzDKmxg4E', '_blank')">
        </div>
        <div class="system-tray-icon"><img src="images/taskbar/tumblr.png"
            onclick="window.open('https://idk-studios.tumblr.com/', '_blank')">
        </div>
        <div class="system-tray-icon"><img src="images/taskbar/patreon.png"
            onclick="window.open('https://www.patreon.com/idkstudios_', '_blank')">
        </div>
      </div>
    </div>

    <script src="app.js" charset="utf-8">

      // Set the time limit (in milliseconds) for considering the user as AFK
      const afkTimeLimit = 480000; // 8 minutes
      let afkTimer;
      let audioPlaying = false;

      // Elements to show/hide when AFK
      const elementsToHide = document.querySelectorAll('body > *');
      const overlay = document.createElement('div');
      overlay.style.position = 'fixed';
      overlay.style.top = '0';
      overlay.style.left = '0';
      overlay.style.width = '100%';
      overlay.style.height = '100%';
      overlay.style.backgroundColor = 'rgba(255, 255, 255)'; // Semi-transparent white
      overlay.style.display = 'none';
      overlay.style.zIndex = '9998';

      const afkMessage = document.createElement('div');
      afkMessage.innerText = 'Are you still here? :(';
      afkMessage.style.position = 'fixed';
      afkMessage.style.top = '50%';
      afkMessage.style.left = '50%';
      afkMessage.style.transform = 'translate(-50%, -50%)';
      afkMessage.style.color = 'black';
      afkMessage.style.fontSize = '14px';
      afkMessage.style.zIndex = '9999';
      afkMessage.style.display = 'none';
      afkMessage.style.backgroundColor = 'transparent';

      // Function to reset the timer and hide the AFK message and overlay
      function resetAfkTimer() {
        clearTimeout(afkTimer);
        afkTimer = setTimeout(() => {
          if (!audioPlaying) {
            overlay.style.display = 'block';
            afkMessage.style.display = 'block';
          }
        }, afkTimeLimit);
        hideAfkMessage();
      }

      // Function to hide the AFK message and overlay
      function hideAfkMessage() {
        overlay.style.display = 'none';
        afkMessage.style.display = 'none';
      }

      // Event listeners to reset the AFK timer
      window.addEventListener('mousemove', resetAfkTimer);
      window.addEventListener('keypress', resetAfkTimer);

      // Initialize the AFK timer
      resetAfkTimer();

      // Function to handle returning from AFK
      function returnFromAfk() {
        hideAfkMessage();
        clearTimeout(afkTimer);
        afkTimer = setTimeout(() => {
          if (!audioPlaying) {
            overlay.style.display = 'block';
            afkMessage.style.display = 'block';
          }
        }, afkTimeLimit);
      }

      // Event listener for clicks on the screen to return from AFK
      document.addEventListener('click', returnFromAfk);

      // Check if audio is playing on the page
      function checkForAudioPlaying() {
        const mediaElements = document.querySelectorAll('audio, video');
        for (const mediaElement of mediaElements) {
          if (!mediaElement.paused) {
            audioPlaying = true;
            return;
          }
        }
        audioPlaying = false;
      }

      // Check for audio playing every second
      setInterval(checkForAudioPlaying, 1000);

      // Append the overlay and AFK message to the body
      document.body.appendChild(overlay);
      document.body.appendChild(afkMessage);


      // ------------------------------------------------------------------------------------------------------

      // Define a variable to track the play state
      let isPlaying = false;


    </script>
</body>

</html>
