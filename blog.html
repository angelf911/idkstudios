<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="styles.css" rel="stylesheet" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="manifest" href="favicon/site.webmanifest">
  <title>idk studios</title>
  <style>
    body {
      font-size: 16px;
    }

    #content {
      width: 99%;
      margin: 2px auto;
      text-align: center;
    }

    #header {
      background-color: #c4ac84;
    }


    .text-container {
      display: flex;
      margin: 0 auto;
      text-align: center;
      flex-direction: column;
    }

    .image-container {
      display: inline-block;
      max-width: 100%;
      height: auto;
    }

    .image-container img {
      margin-top: 15px;
      width: 50%;
    }


    .news-item img:hover {
      transform: scale(0.9);
    }

    @media (max-width: 768px) {
      iframe {
        width: auto;
        max-height: 200px;
      }
    }

    @media (max-width: 415px) {
      iframe {
        height: auto;
        width: 200px;
      }
    }
  </style>
</head>

<body>
  <div id="nav">
    <img src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/nav/archiveIcon.png"
      onclick="location.href='archive.html'">
    <img src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/nav/channelIcon.gif"
      onclick="window.open('https://www.youtube.com/@idkstudiosorg', '_blank')">
    <img src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/nav/blogIcon.png"
      onclick="location.href='blog.html'">
    <img src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/nav/radioIcon.png"
      onclick="location.href='radio.html'">
    <img src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/nav/aboutIcon.png"
      onclick="location.href='about.html'">
  </div>

  <div id="main-container">
    <div id="main-container-style">
      <div id="header">
        <div class="header-title">
          <img src="https://idkstudios.s3.us-east-2.amazonaws.com/images\icons\page\blog.png" id="winicon">
        </div>
        <h1>blog</h1>
        <button onclick="location.href='index.html'" title="Close"><img
            src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/page/xButton.png"></button>
      </div>

      <div id="black-bar"></div>

      <div id="main-box">
        <div id="box-bg">


          <div id=messages></div>



        </div>
      </div>
    </div>
  </div>

  <div id="taskbar">
    <div class="start-box">
      <button class="start-button" onclick="location.href='index.html'">idk studios</button>
    </div>

    <div class="news-bar">
      <marquee behavior="scroll" direction="left">
        <div id="news-bar-content"></div>
      </marquee>
    </div>


    <div class="system-tray-icons">
      <div class="system-tray-icon"><img
          src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/socials/instagram.png"
          onclick="window.open('https://www.instagram.com/idkstudios_/', '_blank')"></div>
      <div class="system-tray-icon"><img
          src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/socials/tiktok.png"
          onclick="window.open('https://www.tiktok.com/@idk.studioss', '_blank')"></div>
      <div class="system-tray-icon"><img
          src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/socials/twitter.png"
          onclick="window.open('https://x.com/_idkstudios', '_blank')"></div>
      <div class="system-tray-icon"><img
          src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/socials/discord.png"
          onclick="window.open('https://discord.gg/YMzDKmxg4E', '_blank')"></div>
      <div class="system-tray-icon"><img
          src="https://idkstudios.s3.us-east-2.amazonaws.com/images/icons/socials/patreon.png"
          onclick="window.open('https://www.patreon.com/idkstudios_', '_blank')"></div>
    </div>
  </div>

  <script>function isImageUrl(t){return new Promise((e=>{const n=new Image;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}))}async function fetchMessages(){try{const t=await fetch("http://localhost:3000/messages");if(!t.ok)throw new Error("Network response was not ok");const e=await t.json(),n=document.getElementById("messages");if(!n)return void console.warn("Messages container not found.");const s=Array.from(n.children).map((t=>t.getAttribute("data-timestamp")));for(const t of e){const e=new Date(t.timestamp).getTime().toString();if(s.includes(e))continue;const a=document.createElement("div");a.classList.add("message"),a.setAttribute("data-timestamp",e),a.innerHTML=`\n                    <span class="author" style="color: ${t.color}">${t.author}:</span>\n                    <span class="content"></span>\n                    <div class="timestamp">${new Date(t.timestamp).toLocaleString()}</div>\n                `;const o=a.querySelector(".content");if(t.content.startsWith("http"))if(await isImageUrl(t.content)){const e=document.createElement("img");e.src=t.content,e.style.width="10%",o.appendChild(e)}else{const e=document.createElement("a");e.href=t.content,e.target="_blank",e.textContent=t.content,o.appendChild(e)}else o.textContent=t.content;if(t.attachments&&t.attachments.length>0){const e=document.createElement("div");e.classList.add("attachments"),t.attachments.forEach((t=>{const n=document.createElement("img");n.src=t,n.style.width="10%",e.appendChild(n)})),a.appendChild(e)}n.prepend(a)}}catch(t){console.error("Fetch error:",t)}}setInterval(fetchMessages,5e3),fetchMessages();</script>

  <script src="https://idkstudios.s3.us-east-2.amazonaws.com/scripts/scripts.js"></script>
</body>

</html>
